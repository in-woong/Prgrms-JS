<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <div id="todo-list"></div>
  <script>
    var data = [
      {
        text: 'JS 공부하기',
        isCompleted : true,
      },
      {
        text: 'JS 복습하기',
        isCompleted : false,
      }
    ]
	// 이곳에서 코딩을 시작하세요!
  function TodoList(data) {
    // new 연산자 사용 여부 확인하기
    if (!new.target) {
      throw new Error('new 연산자를 사용하지 않았습니다');
    // 빈 배열, undefined, null 체크하기
    } else if (!data) {
      throw new Error('올바르지 않은 data 입니다');
    // array 형태 판별하기
    } else if (!Array.isArray(data)) {
      throw new Error('올바르지 않은 형식의 data 입니다');
    // data 내용 이상여부 확인하기
    } else {
      data.forEach(function(todo){
        if (!todo.hasOwnProperty('text')) {
          throw new Error('data 내용에 text가 포함되어 있지 않습니다');
        } 
        if (typeof todo.text !== 'string') {
          throw new Error('text의 형태가 string이 아닙니다');
        }
      })
    } 
    // 넘겨받은 data를 변수로 저장
    this.data = data;
    // render 함수 작성
    this.render = function() {
      let element = ''
      for (let i = 0; i < this.data.length; i++) {
        element = element + `<li>${this.data[i].text}</li>`;
      }
      document.querySelector('#todo-list').innerHTML = `<ul>${element}</ul>`;
    }
  }
  var todoList = new TodoList(data);
  // todoList.render 함수 호출
  todoList.render();
  </script>
</body>
</html>