<html>
  <head>
    <title>Mission 1</title>
    <meta charset="utf-8" />
  </head>

  <body>
    <div id="todo-list"></div>
    <script>
      const data = [
        {
          text: 'JS 공부하기',
          isCompleted: true,
        },
        {
          text: 'JS 복습하기',
          isCompleted: false,
        },
      ]
      // 이곳에서 코딩을 시작하세요!

      function TodoList (data) {
        if(!new.target || !data){
              throw new Error('new 설정이나 data를 확인해주세요')
        }
        this.data = data;
        this.todoDiv = document.querySelector("#todo-list");

        this.render = function() {
            if(!this.data) return;
            this.todoDiv.innerHTML = this.data.map((todo => `<div class="${todo.isCompleted}">${todo.text}</div>`)).join('')
        }
        this.setState = function(data){
            this.data = data;
            this.render();
        }
      }

      const todoList = new TodoList(data);
      
      todoList.render();

      data.push({
          text: '새로운 todo',
          isCompleted: false,
        });
      todoList.setState(data);

    </script>
  </body>
</html>
