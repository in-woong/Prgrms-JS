<html>
  <head>
    <title>Mission 1</title>
    <meta charset="utf-8" />
  </head>

  <body>
    <div id="todo-list"></div>
    <script>
      const data = [
        {
          text: 'JS 공부하기',
          isCompleted: true,
        },
        {
          text: 'JS 복습하기',
          isCompleted: false,
        },
      ]
      
      //[Mission1] : TodoList 함수 생성
      function TodoList(data){
        
        //[Mission1] 보너스 구현사항 예외 처리 구현
        if(!data)
          throw new Error('빈 데이터 입니다.')
        if(!Array.isArray(data))
          throw new Error('Array형태가 아닙니다.')
        data.forEach(function(e){
          if(typeof e.text !== 'string')
            throw new Error('데이터 타입이 string이 아닙니다.')
        })

        console.log(typeof(data[0].text))

        //[Mission1] - 보너스 : new 키워드 안 붙이고 함수 실행 시 에러 발생하게 하기 
       if(!new.target){
         throw new Error('new로 객체를 생성해주세요');
       }
       try{
        this.render = function(){
        data.reduce((acc, cur, i) =>{
          document.querySelector('#todo-list').innerHTML+=`<div>${cur.text}</div>`
        },0)
        }
      }catch(e){
        console.error(e);
      }


    }
    var todoList = new TodoList(data);
    todoList.render();

    </script>
    
    <script src="TodoList.js"></script>  
</body>
</html>
