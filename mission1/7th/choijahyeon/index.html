<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <div id="todo-list-today"></div>
  <div id="todo-list-anytime"></div>
  <div id="todo-list-someday"></div>
  <script>
    const data = {
      today : [
        {
          text: 'JS 공부하기',
          isCompleted: true
        },
        {
          text: 'JS 복습하기',
          isCompleted: false
        }
      ],
      anytime: [
        { 
          text: '방 청소하기',
          isCompleted: true
        },
        {
          text: '자전거 타기',
          isCompleted: false
        } 
      ],
      someday : [
        {
          text: '유럽 여행',
          isCompleted: false
        },
        {
          text: '운전 연수',
          isCompleted: false
        }
      ]
    };

    function TodoList(data, type) {
        if(!Array.isArray(data)) {
            throw new Error("[error] parameter is not array.");
        }
        this.todos = data;
        this.render = function() {
            const lis = this.todos.map((todo) => {
              if(todo.isCompleted) {
                return `<li><s>${todo.text}</s></li>`;
              }
              return `<li>${todo.text}</li>`;
            }).join('');
            document.querySelector(`#todo-list-${type}`).innerHTML = `<ul>${lis}<ul>`;
        }
    }
    const types = ['today', 'anytime', 'someday'];
    types.forEach((type) => {
      const todoList = new TodoList(data[type], type);
      if( typeof todoList !== 'object') {
          throw new Error(`[error][${type}] 'todoList' is not object.`);
      }
      todoList.render()
    });
    const todossss = TodoList(data['today'], 'today');
    console.log(todossss);
  </script>
</body>
</html>