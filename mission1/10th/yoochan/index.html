<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <div id="todo-list"></div>
  <script>
    var data = [
      {
        text: 'JS 공부하기'
      },
      {
        text: 'JS 복습하기'
      }
    ]
  // 이곳에서 코딩을 시작하세요!
  function TodoList(data) {
    if(!new.target) {
      throw new Error("no use new keword");
    }
    
    ErrorTest(data);

    this.render = function() {
      let html = '';
      let todo_list = document.querySelector('#todo-list');
      for(let value of data) {
        html += `<div>${value.text}</div>`
      }
      todo_list.innerHTML = html;
    }
  }

  function ErrorTest(data) {
    if(data === null || data === undefined) {
      throw new Error("Data is empty");
    }
    else if(!Array.isArray(data)) {
      throw new Error("Data is not array");
    }
    else {
      for(let value of data) {
        if(value.text === (null||undefined) || typeof value.text !== "string"){
          throw new Error("The content of the data is strange");
          break;
        }
      }
    }
  }

  var todoList = new TodoList(data);
  todoList.render();
  </script>
</body>
</html>
