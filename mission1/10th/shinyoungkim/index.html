<html>
  <head>
    <title>Mission 1</title>
    <meta charset="utf-8" />
  </head>

  <body>
    <div id="todo-list1"></div>
    <div id="todo-list2"></div>
    <div id="todo-list3"></div>

    <script>
      const data1 = [
        {
          text: 'JS 공부하기',
          isCompleted: true,
        },
        {
          text: 'JS 복습하기',
          isCompleted: false,
        },
      ]
      
      const data2 = [
        {
          text: 'HTML 공부하기',
          isCompleted: true,
        },
        {
          text: 'HTML 복습하기',
          isCompleted: false,
        },
      ]

      const data3 = [
        {
          text: 'CSS 공부하기',
          isCompleted: true,
        },
        {
          text: 'CSS 복습하기',
          isCompleted: false,
        },
      ]

      function TodoList(element, data) {
        
        this.element = element;
        this.data = data;

        if (!new.target) {
          throw Error ('Must be called with new');
        }

        if(!Array.isArray(data)) {
          throw Error ('Data have to be array');
        }

        
        this.render = function() {
          element.innerHTML = `<ul>${data.map((item, index) => `<li>${item.text}</li>`).join('')}</ul>`;
        }
      }

      try {
        const todoList1 = new TodoList(document.querySelector('#todo-list1'), data1);
        const todoList2 = new TodoList(document.querySelector('#todo-list2'), data2);
        const todoList3 = new TodoList(document.querySelector('#todo-list3'), data3);

        todoList2.render();
        todoList1.render();
        todoList3.render();

      } catch(e) {
        console.error(e)
      }

    </script>
  </body>
</html>
