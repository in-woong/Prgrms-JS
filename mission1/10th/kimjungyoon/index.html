<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <div id="todo-list"></div>
  <script>
    var data = [
      {
        text: 'JS 공부하기'
      },
      {
        text: 'JS 복습하기'
      }
    ]
	// 이곳에서 코딩을 시작하세요!

    // 1. TodoList 컴포넌트 작성
    class TodoList {
        constructor(data) {
            // 0) 유효성 검사
            this.validationCheck(data)

            // 1) 파라메터로 받은 data을 this.data로 할당
            this.data = data
        }

        // 유효성 검사
        validationCheck = (data) => {
            // 데이터가 비어있는지 검사 
            if(data === null || data === undefined) throw new Error("data is empty")

            // 데이터가 Array 타입인지 검사
            if(!Array.isArray(data)) throw new Error("data is not Array")

            // 데이터에 text가 있는지 검사
            let hasText = true
            for(let item of data) {
                if(!Object.keys(item).includes('text')) {
                    hasText = false
                    break;
                }
            }
            if(!hasText) throw new Error("data has no Text")
        }
        
        // 2) render 함수 구현
        render = () => {
            // htmlString 빈 문자열로 선언
            let htmlString = ''

            // 반복문을 통해 htmlString 문자열 생성
            for(let item of this.data) {
                htmlString += `<div>${item.text}</div>`
            }
            // innerHTML 속성에 생성한 htmlString 대입
            document.getElementById("todo-list").innerHTML = htmlString
        }
    }

    // 2. new 키워드를 사용하여 todoList 객체 생성 - 파라미터 data (type: List)
    let todoList = new TodoList(data)

    // 3. todoList 객체의 함수 실행 - 파라미터 없음
    todoList.render()

  </script>
</body>
</html>