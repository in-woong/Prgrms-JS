<html>
  <head>
    <title>Mission 1</title>
    <meta charset="utf-8" />
  </head>

  <body>
    <div id="todo-list"></div>
    <script>
      const data = [
        {
          text: 'JS 공부하기',
          isCompleted: true,
        },
        {
          text: 'JS 복습하기',
          isCompleted: false,
        },
      ]

      function errorCheck(data) {
        if (!data) {
          throw new Error('data is null or undefined');
        } else if (!Array.isArray(data)){
          throw new Error('data is not an Array');
        } else {
          data.forEach(value => {
            if(!value.text) {
              throw new Error('data has not a Text');
            }
          })
        }
      }

      var TodoList = function(data) {
        if (!(this instanceof TodoList)) {
          throw new Error('use the new keword to create a TodoList');
        } else {
          errorCheck(data);
        }
        this.data = data;
        this.render = function() {
          var renderString = data.map(value => value.text).join(' ');
          document.getElementById('todo-list').innerHTML = renderString;
        }
      }

      var todoList = new TodoList(data);
      todoList.render();
    </script>
  </body>
</html>
