<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <div id="todo-list"></div>
  <div id="today-todo-list"></div>
  <div id="tomorrow-todo-list"></div>

  <script>
    const data = [
      {
        text: 'JS 공부하기'
      },
      {
        text: 'JS 복습하기'
      }
    ]

    const todayData = [
      {
        text: 'JS 과제'
      },
      {
        text: '한국학 과제'
      }
    ]

    const tomorrowData = [
      {
        text: '코테 공부'
      },
      {
        text: '자소서'
      }
    ]


    function TodoList(data, elementId) {
      if(!(this instanceof TodoList)) {
        throw new Error("TodoList should be instantiated with new keyword");
      }

      if(!Array.isArray(data)) {
        throw new Error("TodoList should be array");
      }

      if(typeof data !== "object" || !data) {
        throw new Error("TodoList is null or undefined");
      }

      data.forEach((todo) => {
        if (typeof todo.text !== 'string') {
          throw new Error("TodoList should be string");
        }
      })

      this.data = data;
      this.elementId = elementId;

      this.render = () => {
        document.querySelector(`#${this.elementId}`).innerHTML = this.data.
          map(todo => `<li>${todo.text}</li>`).join('')
      }
    }

    const todoList = new TodoList(data, 'todo-list');
    todoList.render();

    const todayTodoList = new TodoList(todayData, 'today-todo-list');
    todayTodoList.render();

    const tomorrowTodoList = new TodoList(tomorrowData, 'tomorrow-todo-list');
    tomorrowTodoList.render();

  </script>
</body>
</html>
