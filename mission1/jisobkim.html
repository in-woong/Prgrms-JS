<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <div id="todo-list"></div>
  <script>
    var data = [
      {
        text: 'JS 공부하기'
      },
      {
        text: 'JS 복습하기'
      }
    ]
    // 이곳에서 코딩을 시작하세요!
    var todoList = new TodoList(data);
    //var todoList = TodoList(data);

    function TodoList(data) {
        if(this.self == window || !Array.isArray(data)) {
            try {
                throw new Error("올바르지 않은 인자로 생성됨.");
            } catch (e) {
                alert(e.name + ": " + e.message);
            }
        }
        // state
        this.data = data;
        this.render = function() {
            document.getElementById('todo-list').innerHTML = ``;
            this.data.forEach(element => {
                document.getElementById('todo-list').innerHTML += `<div>${element.text}</div>`;
            });

        }
        this.setState = function(data){
            this.data = data;
            this.render();   
        }
    }

    todoList.render();
    data.push({text: '보너스 미션'});
    data.push({number: '보너스 미션'});

    todoList.setState(data);
    
  </script>
</body>
</html>