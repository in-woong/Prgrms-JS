<html>
  <head>
    <title>Mission 1</title>
    <meta charset="utf-8" />
  </head>

  <body>
    <div id="todo-list"></div>
    <script>
      var data = [
        {
          text: 'JS 공부하기',
        },
        {
          text: 'JS 복습하기',
        },
      ];

      function TodoList(data) {
        // new 키워드가 없거나 매개변수가 없으면 에러띄우기
        if (!(this instanceof TodoList) || !data) {
          console.error();
        }

        this.data = data;

        this.render = function() {
          // 데이터를 넘겨받아 변수에 저장
          var renderString = this.data
            // 배열의 형태를 지니고 있는 데이터라면 map 메소드를 통해 하나 하나 분리하기
            .map((t) => {
              return t.text;
            })
            .join('');

          // 원하는 DOM에 뿌려줍니다.
          document.querySelector('#todo-list').innerHTML = renderString;
        };

        // 보너스 문제. 재 렌더링하는 기능을 가진 함수 만들기.
        this.setState = function(data) {
          this.data = data;
          this.render();
        };
      }

      const todoList = new TodoList();

      todoList.render();
      todoList.setState(data);
    </script>
  </body>
</html>
