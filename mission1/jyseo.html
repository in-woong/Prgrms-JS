<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <div id="todo-list"></div>
  <script>
    var data = [
      {
        text: 'JS 공부하기'
      },
      {
        text: 'JS 복습하기'
      }
    ]
    var data2 = [
      {
        text: 'JS 공부하기2'
      },
      {
        text: 'JS 복습하기2'
      }
    ]
    var data3 = []

    function TodoList(data) {
      if(this === window) {
        throw new Error('please use \'new\' keyword')
      }

      this.data = data
      this.render = function() {
        let html = ''
        this.data.forEach(item => {
          html += '<div>' + item.text + '</div>'
        })
        document.querySelector('#todo-list').innerHTML = html;
      }
      this.setState = function(data) {
        this.data = data
        this.render()
      }
    }

    var todoList = new TodoList(data)
    todoList.render()

    setTimeout(function() {
      todoList.setState(data2)
    }, 2000)

// new 키워드로 함수의 인스턴스를 만들 때 올바른 파라메터가 넘어오지 않을 경우 에러 발생하게 하기
// new 키워드 안 붙이고 함수 실행 시 에러 발생하게 하기
  </script>
</body>
</html>