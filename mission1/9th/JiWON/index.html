<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <h1>To Do List</h1>
  <div id="todo-list1"></div>
  <div id="todo-list2"></div>
  <div id="todo-list3"></div>

  <script>
    const data1 = [
      {
        text: 'JS 공부하기',
        isCompleted: true
      },
      {
        text: 'JS 복습하기',
        isCompleted: true
      }
    ]

    const data2 = [
      {
        text: '다이어리 쓰기',
        isCompleted: true
      },
      {
        text: '책 읽기',
        isCompleted: false
      }

    ]

    const data3 = [
      {
        text: '마라탕 먹기',
        isCompleted: false
      },
      {
        text: '치킨 치킨',
        isCompleted: false
      }
    ]

    function TodoList(todo, listName) {
      this.todo = todo;

      if (!new.target) {
        throw new Error('error message');
      }

      if (todo === null || todo === undefined) throw new Error("error message");
      if (!Array.isArray(todo)) throw new Error("error message");

      this.render = function () {
        document.querySelector(`#${listName}`).innerHTML = `<ul>` + todo.map(element =>
          (element.isCompleted) ? `<li>${element.text}</li>` : `<li><s>${element.text}</s></li>`
        ).join('') + `</ul>`;
      }
    }
    
    const todoList1 = new TodoList(data1, 'todo-list1');
    todoList1.render();

    const todoList2 = new TodoList(data2, 'todo-list2');
    todoList2.render();

    const todoList3 = new TodoList(data3, 'todo-list3');
    todoList3.render();

  </script>
</body>

</html>