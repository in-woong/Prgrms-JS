<html>
  <head>
    <title>Mission 1</title>
    <meta charset="utf-8" />
  </head>

  <body>
    <div id="todo-list"></div>
    <script>
      var data = [
        {
          text: 'JS 공부하기',
        },
        {
          text: 'JS 복습하기',
        },
      ]

      let todoList = new TodoList(data)

      function TodoList(data) {
        // new 키워드로 함수의 인스턴스를 만들지 않았을 경우
        if (new.target !== TodoList) {
          throw new Error('new 키워드로 함수의 인스턴스를 생성해야 합니다.')
        }

        // data 가 없거나 Array 가 아닐경우
        if (!(data && data instanceof Array)) {
          throw new Error('올바른 데이터를 넘겨주세요.')
        }

        this.data = data
        this.render = function () {
          let contents =
            '<ul>' +
            this.data
              .map((todo) => {
                return `<li> ${todo.text} </li>`
              })
              .join('') +
            '</ul>'

          document.querySelector('#todo-list').innerHTML = contents
        }
      }

      // todoList의 render 함수 실행
      todoList.render()
    </script>
  </body>
</html>
