<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <div id="todo-list"></div>
  <div id="todo-list2"></div>
  <div id="todo-list3"></div>
  <script>
    const data = [
      {
        text: 'JS 공부하기'
      },
      {
        text: 'JS 복습하기'
      }
    ];

    const data2 = [
      {
        text: 'React 공부하기'
      },
      {
        text: 'React 복습하기'
      }
    ];

    const data3 = [
      {
        text: 'CS 공부하기'
      },
      {
        text: 'CS 복습하기'
      }
    ];
    
    class TodoList {

        static checkTypeOfData(data){
            if(!Array.isArray(data)){
                throw new Error('data is not array');
            }

            for(let i = 0; i < data.length; i+=1){
                if(!("text" in data[i])){
                    throw new Error(`data[${i}] have no text property`);
                }
            }
        }

        constructor(data,listId){
            TodoList.checkTypeOfData(data);
            this.data = data;
            this.$list = document.querySelector('#'+listId);
        }

        render(){
            this.$list.innerHTML = this.data.reduce((acc,datum)=>{
                return acc + `<div>${datum.text}</div>`;
            },'');
        }
    }

    const totalTodoList = [new TodoList(data,'todo-list'),new TodoList(data2,'todo-list2'),new TodoList(data3,'todo-list3')];
    totalTodoList.forEach((todoList)=>{
        todoList.render();
    });

  </script>
</body>
</html>