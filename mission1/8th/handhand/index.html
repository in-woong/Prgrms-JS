<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <div id="todo-list"></div>
  <script>
    const data = [
      {
        text: 'JS 공부하기'
      },
      {
        text: 'JS 복습하기'
      }
    ]
    
    function checkValidation(todos) {
      if (!todos || !Array.isArray(todos)) { 
        throw new Error('인자가 배열 형태가 아닙니다!'); 
      }

      todos.forEach(todo => {
        if (!todo.hasOwnProperty('text') || !todo.text) {
          throw new Error('데이터 형식이 올바르지 않습니다!');
        }
      })
    }
  
    function TodoList(data) {
      if (!new.target) { throw new Error('new 키워드를 사용해주세요!'); }
      checkValidation(data);
      
      this.todos = data;
    }

    TodoList.prototype.render = function() {
      const renderData = this.todos.map(todo => `<div>${todo.text}</div>`).join('');
      document.querySelector('#todo-list').innerHTML = renderData;
    }
    
    // 인스턴스를 생성하고 랜더링을 수행합니다.
    const todoList = new TodoList([]);
    todoList.render();
  </script>
</body>

</html>