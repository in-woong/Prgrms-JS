<html>

<head>
    <title>Mission 1</title>
    <meta charset="utf-8" />
</head>

<body>
    <div id="todo-list"></div>
    <script>
        var data = 
        [
            {
                text: 'JS 공부하기'
            },
            {
                text: 'JS 복습하기'
            }
        ]

        function TodoList(data) {
            if (!new.target) {
                throw new Error("Error: Object is not set properly");
            }
            this.validation = function () {
                if (!this.data) {
                    throw new Error("Error: Invalid data type");
                }
                if (!Array.isArray(data)) {
                    throw new Error("Error: Data should be array");
                }

                data.forEach(element => {
                    if (!("text" in element)){
                        throw new Error("Error: Key 'text' is missing");
                    }
                });
            }

            this.data = data;
            this.render = function () {
                let htmlData = '';
                this.data.forEach(element => {
                    htmlData += `<li>${element.text}</li>`;
                });

                document.querySelector('#todo-list').innerHTML = `<ul>${htmlData}</ul>`;
            };

            this.validation();
            this.render();
        }

        const todoList = new TodoList(data);
    </script>
</body>

</html>
