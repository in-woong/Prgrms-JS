<html>

<head>
  <title>Mission 1</title>
  <meta charset="utf-8" />
</head>

<body>
  <div id="todo-list"></div>
  <script>
    var data = [
      {
        text: 'JS 공부하기'
      },
      {
        text: 'JS 복습하기'
      }
    ]

	function TodoList(data) {
    isValid(data);
    this.data = data;
    this.render = function() {
      const html = this.data.reduce(
        (sum, current) => sum + `<div>${current.text}</div>`
        ,'');
      document.querySelector('#todo-list').innerHTML = html;
    }
  }

  function isValid(data) {
    if(!data) {
      throw new Error("데이터가 없습니다.");
    } 
    if(!Array.isArray(data)) {
      throw new Error("데이터 형식이 올바르지 않습니다.");
    } 
    if(!new.target) {
      throw new Error("new 생성자로 함수를 호출하세요.");
    }
  }
  
  try { 
    const todoList = TodoList(data);
    todoList.render();
  }catch(e) {
    console.log(e);
  }
  
  </script>
</body>