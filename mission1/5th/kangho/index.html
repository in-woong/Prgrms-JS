<!DOCTYPE html>
<html>
    <head>
        <title>Mission 1_강호</title>
        <meta charset="utf-8">
    </head>
    <body>
        <div id="idTodoList"></div>

        <!-- <script src="./render/method1.js"></script>
        <script src="./render/method2.js"></script>
        <script src="./render/method3.js"></script> -->
        <script src="./render/method4.js"></script>

        <script>
            // new 키워드로 함수의 인스턴스를 만들 때 올바른 파라메터가 넘어오지 않을 경우 에러 발생하게 하기
            // new 키워드 안 붙이고 함수 실행 시 에러 발생하게 하기


            var data = [
                {text: 'JS Start'},
                {text: 'JS Study'},
                {text: 'JS Review'},
                {text: 'JS Ask'},
                {text: 'Yay!'},
                // {wrongTextName: 'dummy'},
                // {text: 222},
            ]

            function checkData(data) {
                if (!(data instanceof Array)) {
                    throw new Error('Error 1: not array');
                }

                if (data.length === 0) {
                    throw new Error('Error 2: empty array');
                }

                for (var i=0; i<data.length; i++) {
                    var keyNames = Object.keys(data[i]);
                    keyNames.forEach(function(names) {
                        if (names !== 'text') {
                            throw new Error('Error 3: wrong key name');
                        }
                    })
                }

                data.forEach(function(list) {
                    if(typeof list.text !== 'string') {
                        throw new Error('Error 4: not string type');
                    }
                })
            }

            var todoList1 = new todoList(data);

        </script>
    </body>
</html>